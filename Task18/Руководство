Тут всё просто. Нужно лишь подставить формулы суммы предыдущей клетки ДП и значения в текущей клетки основной матрицы, так сделать с самым левым вертикальным и с самым верхнем горизонтальным наборами клеток
(зависит от изначальных данных, возможно и наоборот !ЧИТАТЬ ЗАДАНИЕ ВНИМАТЕЛЬНО!).
Далее написать функцию максимума от верхнего и левого элемента ДП и + значение в клетке из матрицы.
Есть усложнённые вариации задания с стенами, но там всё тоже просто:
В клетках после стен (то есть снизу от них или справа) берем и суммируем как мы делали с краевыми стобцами, ведь туда мы можем попасть только с 1 стороны.
Рекомендуется выделять такие клетки цветом, чтобы было проще находить их и вставлять кастомные формулы.
Всё!